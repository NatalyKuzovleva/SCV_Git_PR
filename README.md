![logo](Git-logo.png)

# Работа с Git
## 1. Проверка наличия установленного Git.
В терминале выполнить команду **`git version`**.

Если Git установлен, появится сообщение с информацией о версии программы. Иначе будет сообщение об ошибке.


## 2. Установка Git.
Загружаем последнюю версию Git с сайта https://git-scm.com/downloads. 
Устанавливаем с настройками по умолчанию.


## 3. Настройка Git.
При первом использовании Git необходимо представиться. Для этого в терминале нужно выполнить две команды:
```
git config --global user.name «Ваше имя английскими буквами»
git config --global user.email ваша почта@example.com
```


## 4. Инициализация репозитория.
*Репозиторий* - это папка, в которой настроена система контроля версий, или другими словами, это хранилище файлов, поддерживающее версионность.

Получить репозиторий можно двумя способами. 
1. В терминале перейти к папке, в которой хотим создать репозиторий. Выполнить команду:
```
git init
```
После этого Git инициализирует репозиторий и начнёт отслеживать все изменения внутри него.

2. Клонировать существующий репозиторий Git из любого места. Сделать это можно так:
```
git clone <адрес репозитория>
```


## 5. Запись изменений в репозиторий.
5.1 Для того чтобы получить информацию от Git о его текущем состоянии, необходимо выполнить команду
**`git status`**. 

Команда **`git status -s`** выдаёт информацию о текущем состоянии в сокращённом виде.


5.2 После внесения изменений в файл его нужно сохранить **`CTRL + S`**, а далее выполнить команду **`git add 'имя.файла'`**. 

 Команда **`git add 'имя.файла'`** делает слепок изменений - подготавливает указанный файл к фиксации.

 Команда **`git add .`** (с точкой) подготавливает к фиксации все файлы в репозитории.


5.3 Для того чтобы сохранить или зафиксировать изменения, необходимо выполнить команду **`git commit -m "текст комментария к сохранению"`**.

* Команда 
```
    git commit -a -m "текст комментария к сохранению"
```
или
```
    git commit -am "текст комментария к сохранению"
```
позволяет выполнить и подготовку к фиксации и фиксацию за одну команду. При этом **`git commit`** c флагом **`-a`** не работает при добавлении нового файла, только при внесении изменений в текущий файл.


5.4 Для того чтобы увидеть разницу между текущим файлом и закоммиченным файлом, необходимо выполнить команду **`git diff`**


## 6. Просмотр истории коммитов.
Для того чтобы просмотреть журнал изменений, необходимо выполнить команду **`git log`**. Команда выводит на экран истории всех коммитов с их хеш-кодами в обратном хронологическом порядке, начиная с текущего.

Команда **`git log --oneline`** выводит только первую строку каждого сообщения коммита.

Команда **`git log --graph`** отображает коммиты в виде дерева (графа).

Команда **`git log --oneline --all --graph`** отображает все коммиты и ветки репозитория в виде дерева (графа), причем записывает информацию о каждом коммите в одну строку. Это позволяет без труда просматривать множество коммитов сразу.

## 7. Перемещение между сохранениями.
Для того чтобы переключаться между сохраненными версиями (коммитами), необходимо выполнить команду **`git checkout 'хеш-код интересующего коммита'`**. При этом сами хеш-коды можно увидеть, выполнив команду **`git log`**.

После **`git checkout`** достаточно указать первые 4-6 символов хеш-кода.

Для того чтобы вернуться в актуальное состояние, необходимо выполнить команду
**`git checkout master`**
или 
**`git switch -`**.


## 8. Игнорирование файлов.
Для того чтобы исключить из отслеживания в репозитории файлы и папки, необходимо создать там файл **`.gitignore`** и записать в него их названия или шаблоны, соответствующие таким файлам или папкам.

## 9. Создание веток в Git.
Ветка в Git  - это простой перемещаемый указатель на один из коммитов, обычно последний в цепочке коммитов.
По умолчанию имя основной ветки в Git - master.

Создать ветку можно командой:
```
git branch <имя_новой_ветки>
```
В результате создаётся новый указатель (HEAD) на текущий коммит.

Также существуют 2 команды, которые позволяют создать новую ветку и сразу в неё переключиться:

```
git checkout -b <имя_новой_ветки>
```
и 
```
git switch -b <имя_новой_ветки>
```

## 10. Слияние веток и разрешение конфликтов.
Слияние и конфликты являются неотъемлемой частью работы с Git.

Для того чтобы слить ветку с текущей, необходимо использовать команду:
```
git merge <имя_ветки_для_слияния_с_текущей>
```
Конфликт во время слияния может произойти в двух отдельных точках - при запуске и во время процесса слияния:

* Если Git прерывает работу в самом начале слияния, то скорее всего не сохранены новые локальные изменения. В данном случае необходимо выполнить команду **`git commit -am "текст комментария к сохранению"`** и повторить команду слияния заново.

* Если Git прерывает работу в процессе слияния, то скорее всего имеется конфликт между текущей локальной веткой и веткой, с которой выполняется слияние. Git сделает все возможное, чтобы объединить файлы, но оставит конфликтующие участки, чтобы вы разрешили их вручную. При этом Git предложит 4 действия на выбор:
![conflict](conflict.png)
1. Accept Current Change - Принять текущее изменение
2. Accept Incoming Change - Принять входящие изменения
3. Accept Both Changes - Принять оба изменения
4. Compare Changes - Сравнить изменения

После завершения слияния и разрешения конфликтов необходимо обязательно сохранить коммит слияния!


## 11. Удаление веток.
После слияния изменений с текущей версией проекта ветка, в которой работали над изменениями, больше не нужна.

Для того чтобы удалить ветку, необходимо выполнить команду:
```
git branch -d  <имя_удаляемой_ветки>
```
, где флаг -d - сокращенный вариант записи --delete.

Если в ветке присутствуют несмерженные изменения, флаг -d не позволит удалить такую локальную ветку, таким образом Git защищает от случайной потери данных.

Команда
```
git branch -D  <имя_удаляемой_ветки>
```
выполняет принудительное удаление.
Флаг -D (с большой D) принудительно удаляет локальную ветку, вне зависимости от ее статуса мержа. Использовать данную команду с осторожностью! После её ввода не будет подтверждения удаления.

# 12. Работа с удаленными репозиториями.

1. Создать аккаунт на GitHub https://github.com/

В правом верхнем углу экрана кнопка регистрации -> **`Sign Up`**

После регистрации необходимо авторизоваться -> **`Sign In`**

---
2. Создать локальный репозиторий

* На локальном компьютере создать папку и в VS Code командой **`git init`** сделать из неё репозиторий.
* В локальном репозитории создать файл **`README.md`**, добавить в него информацию.
* Подготовить указанный файл к фиксации и зафиксировать изменения, выполнив команды:
```
git add README.md
git commit -m "first commit"
```
* Переименовать ветку **`master`** в **`main`** при необходимости командой:
```
git branch -M main
```
---
3. Связать удалённый репозиторий с локальным

Чтобы добавить удаленный репозиторий и присвоить ему название, которое используется для удобства как сокращение адреса, необходимо выполнить команду:
```
git remote add origin <url-адрес репозитория>
```
По умолчанию удаленный репозиторий называется origin, но можно присваивать любое название.
```
git remote add <имя для репозитория> <url-адрес репозитория>
```
---
4. Отправить изменения в удалённый репозиторий 
```
git push -u origin main
```
5. Забрать изменения с удаленного репозитория в локальный
```
git pull
```

# 13. Клонирование удаленных репозиториев.

* Создать копию репозитория на GitHub

В своём аккаунте на GitHub создать копию репозитория **`"AndreyBulgakov19/SCV_Git_PR"`** с помощью кнопки **`"Fork"`** в правом верхнем углу.

* Скопировать адрес ссылки на склонированный репозиторий.

* Создать пустую  папку на локальном компьютере для клонирования удаленного репозитория 

* Выполнить команду
```
git clone <url-адрес скопированного репозитория>
```

* Перейти в склонированную папку с помощью команды **`cd`**

* Создать новую ветку, на которой внести все необходимые изменения

* Отправить изменения на свой удаленный репозиторий командой 
```
 git push --set-upstream origin <имя новой ветки>
```
* В удаленном репозитории на GitHub должна появиться кнопка **`pullRequest`** - отправить изменения автору.